{"ast":null,"code":"var _jsxFileName = \"D:\\\\Senai\\\\SP_MEDICAL_GROUP\\\\sp_medical_group_frontend\\\\src\\\\pages\\\\Administrador\\\\administrador.js\",\n    _s = $RefreshSig$();\n\nimport { Link } from 'react-router-dom';\nimport Header from '../../Components/header/header';\nimport '../../App.css'; // class Admin extends Component{\n//     constructor(props){\n//         super(props);\n//         this.state = {\n//             listaConsultas : [],\n//             medicoNome : '',\n//             pacienteNome : '',\n//             horarioConsulta : '',\n//             statusConsulta : [],\n//             descricaoConsulta : '',\n//         }\n//     }\n//     limparCampos = () => {\n//         this.setState({\n//             descricaoConsulta : '',\n//             statusConsulta : [],\n//             horarioConsulta : '',\n//             pacienteNome : '',\n//             medicoNome : '',\n//             dataConsulta : ''\n//         })\n//     }\n//     /* BUSCAR CONSULTAS  */\n//     buscarConsultas = () => {\n//         console.log(\"Vamos realizar a chamada para a API\")\n//         fetch('http://localhost:5000/api/consulta/minhas-consultas/' + parseJwt().jti, {\n//             headers : {\n//                 'Authorization' : 'Bearer ' + localStorage.getItem('usuario-login')\n//             }\n//         })\n//         .then(resposta => resposta.json())\n//         .then(data => this.setState({listaConsultas : data}))\n//         .catch( (erro) => console.log(erro) )\n//     }\n//     /* BUSCAR CONSULTAS  */\n//     cadastrarConsulta = (event) => {\n//         event.preventDefault()\n//         fetch('http://localhost:5000/api/consulta', {\n//             method : 'POST',\n//             body : JSON.stringify(\n//             {\n//                 medicoNome : this.state.medicoNome, pacienteNome : this.state.pacienteNome, horarioConsulta : this.state.horarioConsulta, statusConsulta : this.state.statusConsulta, descricaoConsulta : this.state.descricaoConsulta, dataConsulta : this.state.dataConsulta\n//             }),\n//             headers : {\n//                 'Authorization' : 'Bearer ' + localStorage.getItem('usuario-login') \n//             }\n//         }) \n//         .then(console.log('Consulta cadastrada com sucessso'))\n//         .then(this.buscarConsultas)\n//         .catch(erro => console.log(erro))\n//         .then(this.limparCampos)\n//     }\n//     atualizarEstadoMedico = async(event) => {\n//         await this.setState({medicoNome : event.target.value})\n//         console.log(this.state.medicoNome)\n//         event.preventDefault();\n//     }\n//     atualizarEstadoPaciente = async(event) => {\n//         await this.setState({pacienteNome : event.target.value})\n//         console.log(this.state.pacienteNome)\n//         event.preventDefault()\n//     }\n//     atualizarEstadoHorario = async(event) => {\n//         await this.setState({horarioConsulta : event.target.value})\n//         console.log(this.state.horarioConsulta)\n//         event.preventDefault()\n//     }\n//     atualizarEstadoStatusConsulta = async(event) => { /* STATUSCONSULTA É UM MÉTODO DIFERENTE DE SE FAZER */\n//         await this.setState({statusConsulta : event.target.value})\n//         console.log(this.state.statusConsulta)\n//         event.preventDefault()\n//     }\n//     atualizarEstadoDescricao = async(event) => {\n//         await this.setState({descricaoConsulta : event.target.value})\n//         console.log(this.state.descricaoConsulta)\n//         event.preventDefault()\n//     }\n//     atualizarEstadoData = async(event) => {\n//         await this.setState({dataConsulta : event.target.value})\n//         console.log(this.state.dataConsulta)\n//         event.preventDefault()\n//     }\n//     componentDidMount(){\n//         this.buscarConsultas()\n//     }\n//     render(){\n\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Administrador() {\n  _s();\n\n  // IdPaciente,IdMedico,IdStatusConsulta,DataConsulta,HorarioConsulta,DescricaoAtendimento    \n  // setStates para o cadastro das consultas\n  const [idPaciente, setIdPaciente] = useState(0);\n  console.log(idPaciente);\n  const [idMedico, setIdMedico] = useState(0);\n  console.log(idMedico);\n  const [idStatusConsulta, setIdStatusConsulta] = useState(0);\n  console.log(idStatusConsulta);\n  const [dataConsulta, setDataConsulta] = useState(new Date());\n  console.log(dataConsulta);\n  const [horarioConsulta, setHorarioConsulta] = useState('');\n  console.log(horarioConsulta);\n  const [isLoading, setIsLoading] = useState(false);\n  console.log(isLoading); // setStates para a listagem das consultas\n\n  const [listaConsultas, setListaConsultas] = useState([]);\n  const [listaMedicos, setListaMedicos] = useState([]);\n  const [listaPacientes, setListaPacientes] = useState([]); //funções\n  // buscar consultas do usuário (todas consultas - administrador)\n\n  function getConsultas() {\n    axios.get('http://localhost:5000/api/consulta', {\n      headers: {\n        'Authorization': 'Bearer ' + localStorage.getItem('usuario-login')\n      }\n    }).then(resposta => {\n      if (resposta.status === 200) {\n        setListaConsultas(resposta.data);\n      }\n    }).catch(erro => console.log(erro));\n  } // buscar médico\n\n\n  function getMedicos() {\n    axios.get('http://localhost:5000/api/medico', {\n      headers: {\n        'Authorization': 'Bearer ' + localStorage.getItem('usuario-login')\n      }\n    }).then(resposta => {\n      if (resposta.status === 200) {\n        setListaMedicos(resposta.data);\n      }\n    }).catch(erro => console.log(erro));\n  } // buscar paciente\n\n\n  function getPacientes() {\n    axios.get('http://localhost:5000/api/paciente', {\n      headers: {\n        'Authorization': 'Bearer ' + localStorage.getItem('usuario-login')\n      }\n    }).then(resposta => {\n      if (resposta.status === 200) {\n        setListaPacientes(resposta.data);\n      }\n    }).catch(erro => console.log(erro));\n  } // cadastrar consultas\n\n\n  function postConsultas(event) {\n    event.preventDefault();\n    setIsLoading(true);\n    axios.post('http://localhost:5000/api/consulta', {\n      idPaciente: idPaciente,\n      idMedico: idMedico,\n      dataConsulta: new Date(dataConsulta),\n      horarioConsulta: horarioConsulta,\n      idStatusConsulta: idStatusConsulta,\n      descricaoAtendimento: ''\n    }, {\n      headers: {\n        'Authorization': 'Bearer ' + localStorage.getItem('usuario-login')\n      }\n    }).then(resposta => {\n      if (resposta.status === 201) {\n        console.log('Consulta cadastrada!');\n        setIsLoading(false);\n        getConsultas();\n      }\n    }).catch(erro => {\n      console.log(erro);\n      setIsLoading(false);\n    });\n  }\n\n  ; // funções para ciclos de vida \n\n  useEffect(getConsultas, []);\n  useEffect(getMedicos, []);\n  useEffect(getPacientes, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 271,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(Link, {\n      to: \"/\",\n      children: /*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"logout\",\n        children: \"Sair\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 272,\n        columnNumber: 30\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 272,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"section-cadastrar-consulta\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Cadastrar consultas\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 274,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"cadastrar-consulta\",\n        children: /*#__PURE__*/_jsxDEV(\"form\", {\n          className: \"cadastrarConsulta\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"Nome do m\\xE9dico\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 277,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            value: this.state.nomeMedico,\n            onChange: this.atualizarEstadoMedico,\n            required: true,\n            type: \"text\",\n            placeholder: \"Nome do m\\xE9dico\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 278,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"Nome do paciente:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 284,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            value: this.state.nomePaciente,\n            onChange: this.atualizarEstadoPaciente,\n            type: \"text\",\n            placeholder: \"Nome do Paciente\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 285,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"Hor\\xE1rio da consulta:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 291,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            value: this.state.horarioConsulta,\n            onChange: this.atualizarEstadoHorario,\n            type: \"text\",\n            placeholder: \"Hor\\xE1rio da consulta\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 292,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"Data da consulta:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 299,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            value: this.state.dataConsulta,\n            onChange: this.atualizarEstadoData,\n            type: \"date\",\n            placeholder: \"Data da consulta\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 300,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"Status da Consulta:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 307,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            onChange: this.atualizarEstadoStatusConsulta,\n            value: this.state.statusConsulta,\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              children: \"Agendada\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 309,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              children: \"Confirmada\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 310,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              children: \"Cancelada\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 311,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 308,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"Descri\\xE7\\xE3o da consulta:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 314,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            value: this.state.descricaoConsulta,\n            onChange: this.atualizarEstadoDescricao,\n            type: \"text\",\n            placeholder: \"Descri\\xE7\\xE3o da consulta\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 315,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            children: \"Cadastrar\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 322,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 276,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 275,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 273,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"section-consultas\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Consultas\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 327,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"M\\xE9dico\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 331,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Pacientes\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 332,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Especialidade\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 333,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Data\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 334,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Hor\\xE1rio\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 335,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Status\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 336,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Descri\\xE7\\xE3o\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 337,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 330,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 329,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: this.state.listaConsultas.map(consulta => {\n            return /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                children: consulta.idMedicoNavigation.nomeMedico\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 345,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: consulta.idPacienteNavigation.nomePaciente\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 346,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: consulta.idMedicoNavigation.idEspecialidadeNavigation.descricaoEspec\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 347,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: consulta.dataConsulta\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 348,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: consulta.idConsulta.hroConsulta\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 349,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: consulta.idStatusConsultaNavigation.statusConsulta\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 350,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: consulta.descricaoConsulta\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 351,\n                columnNumber: 41\n              }, this)]\n            }, consulta.idConsulta, true, {\n              fileName: _jsxFileName,\n              lineNumber: 344,\n              columnNumber: 37\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 340,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 328,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 326,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 270,\n    columnNumber: 13\n  }, this);\n} // }    \n// export default Admin\n\n_s(Administrador, \"eBj7B/QAr8OfvAQjXr1uGWY58VY=\");\n\n_c = Administrador;\n\nvar _c;\n\n$RefreshReg$(_c, \"Administrador\");","map":{"version":3,"sources":["D:/Senai/SP_MEDICAL_GROUP/sp_medical_group_frontend/src/pages/Administrador/administrador.js"],"names":["Link","Header","React","useState","useEffect","axios","Administrador","idPaciente","setIdPaciente","console","log","idMedico","setIdMedico","idStatusConsulta","setIdStatusConsulta","dataConsulta","setDataConsulta","Date","horarioConsulta","setHorarioConsulta","isLoading","setIsLoading","listaConsultas","setListaConsultas","listaMedicos","setListaMedicos","listaPacientes","setListaPacientes","getConsultas","get","headers","localStorage","getItem","then","resposta","status","data","catch","erro","getMedicos","getPacientes","postConsultas","event","preventDefault","post","descricaoAtendimento","state","nomeMedico","atualizarEstadoMedico","nomePaciente","atualizarEstadoPaciente","atualizarEstadoHorario","atualizarEstadoData","atualizarEstadoStatusConsulta","statusConsulta","descricaoConsulta","atualizarEstadoDescricao","map","consulta","idMedicoNavigation","idPacienteNavigation","idEspecialidadeNavigation","descricaoEspec","idConsulta","hroConsulta","idStatusConsultaNavigation"],"mappings":"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","sourcesContent":["\r\nimport{Link} from 'react-router-dom';\r\n\r\n\r\nimport Header from '../../Components/header/header'\r\nimport '../../App.css';\r\n\r\n// class Admin extends Component{\r\n//     constructor(props){\r\n//         super(props);\r\n//         this.state = {\r\n//             listaConsultas : [],\r\n//             medicoNome : '',\r\n//             pacienteNome : '',\r\n//             horarioConsulta : '',\r\n//             statusConsulta : [],\r\n//             descricaoConsulta : '',\r\n\r\n\r\n//         }\r\n//     }\r\n\r\n//     limparCampos = () => {\r\n//         this.setState({\r\n//             descricaoConsulta : '',\r\n//             statusConsulta : [],\r\n//             horarioConsulta : '',\r\n//             pacienteNome : '',\r\n//             medicoNome : '',\r\n//             dataConsulta : ''\r\n//         })\r\n//     }\r\n\r\n//     /* BUSCAR CONSULTAS  */\r\n//     buscarConsultas = () => {\r\n\r\n//         console.log(\"Vamos realizar a chamada para a API\")\r\n\r\n//         fetch('http://localhost:5000/api/consulta/minhas-consultas/' + parseJwt().jti, {\r\n//             headers : {\r\n//                 'Authorization' : 'Bearer ' + localStorage.getItem('usuario-login')\r\n//             }\r\n//         })\r\n\r\n//         .then(resposta => resposta.json())\r\n\r\n//         .then(data => this.setState({listaConsultas : data}))\r\n\r\n//         .catch( (erro) => console.log(erro) )\r\n//     }\r\n\r\n//     /* BUSCAR CONSULTAS  */\r\n\r\n//     cadastrarConsulta = (event) => {\r\n//         event.preventDefault()\r\n\r\n//         fetch('http://localhost:5000/api/consulta', {\r\n//             method : 'POST',\r\n\r\n//             body : JSON.stringify(\r\n//             {\r\n//                 medicoNome : this.state.medicoNome, pacienteNome : this.state.pacienteNome, horarioConsulta : this.state.horarioConsulta, statusConsulta : this.state.statusConsulta, descricaoConsulta : this.state.descricaoConsulta, dataConsulta : this.state.dataConsulta\r\n//             }),\r\n\r\n//             headers : {\r\n//                 'Authorization' : 'Bearer ' + localStorage.getItem('usuario-login') \r\n//             }\r\n//         }) \r\n        \r\n//         .then(console.log('Consulta cadastrada com sucessso'))\r\n\r\n//         .then(this.buscarConsultas)\r\n\r\n//         .catch(erro => console.log(erro))\r\n\r\n//         .then(this.limparCampos)\r\n//     }\r\n\r\n//     atualizarEstadoMedico = async(event) => {\r\n//         await this.setState({medicoNome : event.target.value})\r\n\r\n//         console.log(this.state.medicoNome)\r\n\r\n//         event.preventDefault();\r\n//     }\r\n\r\n//     atualizarEstadoPaciente = async(event) => {\r\n//         await this.setState({pacienteNome : event.target.value})\r\n\r\n//         console.log(this.state.pacienteNome)\r\n\r\n//         event.preventDefault()\r\n//     }\r\n\r\n//     atualizarEstadoHorario = async(event) => {\r\n//         await this.setState({horarioConsulta : event.target.value})\r\n\r\n//         console.log(this.state.horarioConsulta)\r\n\r\n//         event.preventDefault()\r\n//     }\r\n    \r\n\r\n//     atualizarEstadoStatusConsulta = async(event) => { /* STATUSCONSULTA É UM MÉTODO DIFERENTE DE SE FAZER */\r\n//         await this.setState({statusConsulta : event.target.value})\r\n\r\n//         console.log(this.state.statusConsulta)\r\n\r\n//         event.preventDefault()\r\n//     }\r\n\r\n//     atualizarEstadoDescricao = async(event) => {\r\n//         await this.setState({descricaoConsulta : event.target.value})\r\n\r\n//         console.log(this.state.descricaoConsulta)\r\n\r\n//         event.preventDefault()\r\n//     }\r\n\r\n//     atualizarEstadoData = async(event) => {\r\n//         await this.setState({dataConsulta : event.target.value})\r\n\r\n//         console.log(this.state.dataConsulta)\r\n\r\n//         event.preventDefault()\r\n//     }\r\n\r\n//     componentDidMount(){\r\n//         this.buscarConsultas()\r\n//     }\r\n\r\n\r\n//     render(){\r\n\r\n    import React, {useState,useEffect} from 'react';\r\n    import axios from 'axios';\r\n    \r\n    export default function Administrador(){\r\n        \r\n        // IdPaciente,IdMedico,IdStatusConsulta,DataConsulta,HorarioConsulta,DescricaoAtendimento    \r\n    \r\n        // setStates para o cadastro das consultas\r\n        const [ idPaciente, setIdPaciente ] = useState( 0 )\r\n        console.log(idPaciente)\r\n    \r\n        const [ idMedico, setIdMedico ] = useState( 0 )   \r\n        console.log(idMedico)\r\n    \r\n        const [ idStatusConsulta, setIdStatusConsulta ] = useState( 0 )\r\n        console.log(idStatusConsulta)\r\n    \r\n        const [ dataConsulta, setDataConsulta ] = useState( new Date() )\r\n        console.log(dataConsulta)\r\n        \r\n        const [ horarioConsulta, setHorarioConsulta ] = useState( '' )    \r\n        console.log(horarioConsulta)\r\n        \r\n        const [ isLoading, setIsLoading ] = useState (false)\r\n        console.log(isLoading)\r\n    \r\n        // setStates para a listagem das consultas\r\n        const [ listaConsultas, setListaConsultas ] = useState( [] ) \r\n        const [ listaMedicos, setListaMedicos ] = useState( [] )\r\n        const [ listaPacientes, setListaPacientes ] = useState( [] )   \r\n        \r\n    \r\n    \r\n        //funções\r\n    \r\n        // buscar consultas do usuário (todas consultas - administrador)\r\n        function getConsultas(){\r\n            axios.get('http://localhost:5000/api/consulta', {\r\n                headers : {\r\n                    'Authorization' : 'Bearer ' + localStorage.getItem('usuario-login')\r\n                }\r\n            })\r\n            \r\n            .then(resposta => {\r\n                if (resposta.status === 200) {\r\n                    \r\n                    setListaConsultas(resposta.data)\r\n                }\r\n            })   \r\n            .catch(erro => console.log(erro))\r\n        }\r\n    \r\n        // buscar médico\r\n        function getMedicos(){\r\n            axios.get('http://localhost:5000/api/medico', {\r\n                headers : {\r\n                    'Authorization' : 'Bearer ' + localStorage.getItem('usuario-login')\r\n                }\r\n            })\r\n            \r\n            .then(resposta => {\r\n                if (resposta.status === 200) {\r\n                    \r\n                    setListaMedicos(resposta.data)\r\n                }\r\n            })   \r\n            .catch(erro => console.log(erro))\r\n        }\r\n    \r\n        // buscar paciente\r\n        function getPacientes(){\r\n            axios.get('http://localhost:5000/api/paciente', {\r\n                headers : {\r\n                    'Authorization' : 'Bearer ' + localStorage.getItem('usuario-login')\r\n                }\r\n            })\r\n            \r\n            .then(resposta => {\r\n                if (resposta.status === 200) {\r\n                    \r\n                    setListaPacientes(resposta.data)\r\n                }\r\n            })   \r\n            .catch(erro => console.log(erro))\r\n        }\r\n        \r\n    \r\n        // cadastrar consultas\r\n        function postConsultas(event){\r\n    \r\n            event.preventDefault()\r\n    \r\n            setIsLoading(true)\r\n    \r\n            axios.post('http://localhost:5000/api/consulta', {\r\n                \r\n                idPaciente : idPaciente,\r\n                idMedico : idMedico,            \r\n                dataConsulta : new Date(dataConsulta),\r\n                horarioConsulta : horarioConsulta,\r\n                idStatusConsulta : idStatusConsulta,\r\n                descricaoAtendimento : ''\r\n    \r\n            }, {\r\n                headers : {\r\n                    'Authorization' : 'Bearer ' + localStorage.getItem('usuario-login')\r\n                }\r\n            })\r\n    \r\n            .then(resposta => {\r\n    \r\n                if (resposta.status === 201) {\r\n    \r\n                    console.log('Consulta cadastrada!')\r\n    \r\n                    setIsLoading(false)\r\n    \r\n                    getConsultas();\r\n                }\r\n            })\r\n            \r\n            .catch(erro => {\r\n                console.log(erro)\r\n                setIsLoading(false)\r\n            })\r\n    \r\n    \r\n        };    \r\n    \r\n        // funções para ciclos de vida \r\n        useEffect( getConsultas, [] )  \r\n        useEffect( getMedicos, [] ) \r\n        useEffect( getPacientes, [] ) \r\n        \r\n        return(\r\n            <div>\r\n                <Header />\r\n                <Link to=\"/\"><h3 className=\"logout\">Sair</h3></Link>\r\n                <section className=\"section-cadastrar-consulta\">\r\n                    <h1>Cadastrar consultas</h1>\r\n                    <div className=\"cadastrar-consulta\">\r\n                        <form className=\"cadastrarConsulta\">\r\n                            <h2>Nome do médico</h2>\r\n                            <input value={this.state.nomeMedico} \r\n                                onChange={this.atualizarEstadoMedico} \r\n                                required \r\n                                type=\"text\" placeholder=\"Nome do médico\" \r\n                            />\r\n\r\n                            <h2>Nome do paciente:</h2>\r\n                            <input value={this.state.nomePaciente} \r\n                                onChange={this.atualizarEstadoPaciente} \r\n                                type=\"text\" \r\n                                placeholder=\"Nome do Paciente\" required\r\n                            />\r\n\r\n                            <h2>Horário da consulta:</h2>\r\n                            <input value={this.state.horarioConsulta} \r\n                                onChange={this.atualizarEstadoHorario} \r\n                                type=\"text\" \r\n                                placeholder=\"Horário da consulta\" \r\n                                required\r\n                            />\r\n\r\n                            <h2>Data da consulta:</h2>\r\n                            <input value={this.state.dataConsulta}\r\n                                onChange={this.atualizarEstadoData} \r\n                                type=\"date\" \r\n                                placeholder=\"Data da consulta\" \r\n                                required\r\n                             />\r\n\r\n                            <h2>Status da Consulta:</h2>\r\n                            <select onChange={this.atualizarEstadoStatusConsulta} value={this.state.statusConsulta}>\r\n                                <option >Agendada</option>\r\n                                <option>Confirmada</option>\r\n                                <option>Cancelada</option>\r\n                            </select>\r\n\r\n                            <h2>Descrição da consulta:</h2>\r\n                            <input value={this.state.descricaoConsulta} \r\n                            onChange={this.atualizarEstadoDescricao} \r\n                            type=\"text\" \r\n                            placeholder=\"Descrição da consulta\" \r\n                            required\r\n                            />\r\n\r\n                            <button type=\"submit\">Cadastrar</button>\r\n                        </form>\r\n                    </div>\r\n                </section>\r\n                <section className=\"section-consultas\">\r\n                <h1>Consultas</h1>\r\n                <table>\r\n                    <thead>\r\n                        <tr>\r\n                            <th>Médico</th>\r\n                            <th>Pacientes</th>\r\n                            <th>Especialidade</th>\r\n                            <th>Data</th>\r\n                            <th>Horário</th>\r\n                            <th>Status</th>\r\n                            <th>Descrição</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                         {\r\n                            this.state.listaConsultas.map((consulta) => {\r\n                                return(\r\n                                    <tr key={consulta.idConsulta}>\r\n                                        <td>{consulta.idMedicoNavigation.nomeMedico}</td>\r\n                                        <td>{consulta.idPacienteNavigation.nomePaciente}</td>\r\n                                        <td>{consulta.idMedicoNavigation.idEspecialidadeNavigation.descricaoEspec}</td>\r\n                                        <td>{consulta.dataConsulta}</td>\r\n                                        <td>{consulta.idConsulta.hroConsulta}</td>\r\n                                        <td>{consulta.idStatusConsultaNavigation.statusConsulta}</td>\r\n                                        <td>{consulta.descricaoConsulta}</td>\r\n                                    </tr>\r\n                                )}\r\n                            )\r\n                        }     \r\n                                     \r\n                    </tbody>    \r\n                </table>\r\n                </section>                \r\n            </div>\r\n        )\r\n}\r\n// }    \r\n\r\n// export default Admin\r\n"]},"metadata":{},"sourceType":"module"}